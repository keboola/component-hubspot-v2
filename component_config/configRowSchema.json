{
  "type": "object",
  "title": "Configuration",
  "id": "rootschema",
  "required": [
    "endpoints",
    "additional_properties",
    "associations",
    "fetch_settings",
    "destination_settings"
  ],
  "properties": {
    "endpoints": {
      "type": "object",
      "title": "Endpoints",
      "format": "grid-strict",
      "propertyOrder": 10,
      "properties": {
        "campaign": {
          "title": "Campaign",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "contact": {
          "title": "Contact",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "company": {
          "title": "Company",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "deal": {
          "title": "Deal",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "deal_line_item": {
          "title": "Deal line item",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "quote": {
          "title": "Quote",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "product": {
          "title": "Product",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "owner": {
          "title": "Owner",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "ticket": {
          "title": "Ticket",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "contact_list": {
          "title": "Contact list",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "email_event": {
          "title": "Email event",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "form": {
          "title": "Form",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "pipeline": {
          "title": "Pipeline",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "note": {
          "title": "Note",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "call": {
          "title": "Call",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "task": {
          "title": "Task",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "meeting": {
          "title": "Meeting",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "email": {
          "title": "Email",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        },
        "email_statistic": {
          "title": "Email statistic",
          "format": "checkbox",
          "type": "boolean",
          "default": true,
          "options": {
            "grid_columns": 3
          }
        }
      }
    },
    "additional_properties": {
      "title": "Object Properties",
      "type": "object",
      "propertyOrder": 20,
      "properties": {
        "object_properties": {
          "title": "Property Fetch Mode",
          "propertyOrder": 10,
          "required": true,
          "type": "string",
          "enum": [
            "all",
            "base",
            "custom"
          ],
          "options": {
            "enum_titles": [
              "Fetch All Properties",
              "Fetch Base Properties",
              "Fetch Custom Properties"
            ]
          },
          "default": "base"
        },
        "call_properties": {
          "type": "string",
          "title": "Call - Additional Properties",
          "format": "textarea",
          "default": "hs_call_title, hs_call_status, hs_createdate, hs_lastmodifieddate, hs_object_id, hs_body_preview, hs_created_by, hs_created_by_user_id, hs_engagement_source, hubspot_owner_idm, hs_user_ids_of_all_owners",
          "options": {
            "input_height": "100px",
            "dependencies": {
              "object_properties": "custom",
              "call_hidden": "true"
            }
          },
          "description": "Comma separated list of call properties. The values must match valid company properties, otherwise an empty value is returned. If left empty, default properties will be fetched.",
          "uniqueItems": true,
          "propertyOrder": 20
        },
        "deal_properties": {
          "type": "string",
          "title": "Deal - Additional Properties",
          "format": "textarea",
          "default": "point_of_contact, product_of_interest, dealname, amount, dealstage, pipeline, closedate, hs_lastmodifieddate,hs_createdate, createdate, hs_deal_stage_probability, hs_deal_stage_probability_shadow, hs_object_id, amount_in_home_currency, days_to_close, hs_exchange_rate, hs_forecast_amount, hs_forecast_probability, hs_is_closed, hs_is_closed_won, hs_is_deal_split, hs_mrr, hs_projected_amount, hs_projected_amount_in_home_currency",
          "options": {
            "input_height": "100px",
            "dependencies": {
              "object_properties": "custom",
              "deal_hidden": "true"
            }
          },
          "description": "Comma separated list of Deal properties. The values must match valid company properties, otherwise an empty value is returned. If left empty, default properties will be fetched.",
          "uniqueItems": true,
          "propertyOrder": 30
        },
        "email_properties": {
          "type": "string",
          "title": "Email - Additional Properties",
          "format": "textarea",
          "default": "hubspot_owner_id, hubspot_team_id, hubspot_owner_assigneddate, hs_created_by, hs_createdate, hs_email_bcc_email, hs_email_bcc_firstname, hs_email_bcc_lastname, hs_email_cc_email, hs_email_cc_firstname, hs_email_cc_lastname, hs_email_from_email, hs_email_from_firstname, hs_email_from_lastname, hs_email_headers",
          "options": {
            "input_height": "100px",
            "dependencies": {
              "object_properties": "custom",
              "email_hidden": "true"
            }
          },
          "description": "Comma separated list of email properties. The values must match valid company properties, otherwise an empty value is returned. If left empty, default properties will be fetched.",
          "uniqueItems": true,
          "propertyOrder": 40
        },
        "company_properties": {
          "type": "string",
          "title": "Company - Additional Properties",
          "format": "textarea",
          "default": "about_us, name, phone, facebook_company_page, city, country, website, industry, annualrevenue, linkedin_company_page, hs_lastmodifieddate, hubspot_owner_id, notes_last_updated, description, createdate, numberofemployees, hs_lead_status, founded_year, twitterhandle, linkedinbio",
          "options": {
            "input_height": "100px",
            "dependencies": {
              "object_properties": "custom",
              "company_hidden": "true"
            }
          },
          "description": "Comma separated list of Company properties. The values must match valid company properties, otherwise an empty value is returned. If left empty, default properties will be fetched.",
          "uniqueItems": true,
          "propertyOrder": 50
        },
        "contact_properties": {
          "type": "string",
          "title": "Contact - Additional Properties",
          "format": "textarea",
          "default": "hs_facebookid, hs_linkedinid, ip_city, ip_country, ip_country_code, newsletter_opt_in, firstname, linkedin_profile, lastname, email, mobilephone, phone, city, country, region, jobtitle, company, website, numemployees, industry, associatedcompanyid, hs_lead_status, lastmodifieddate, source, hs_email_optout, twitterhandle, lead_type, hubspot_owner_id, notes_last_updated, hs_analytics_source, opt_in, createdate, hs_twitterid, lifecyclestage",
          "options": {
            "input_height": "100px",
            "dependencies": {
              "object_properties": "custom",
              "contact_hidden": "true"
            }
          },
          "description": "Comma separated list of contact properties. The values must match valid company properties, otherwise an empty value is returned. If left empty, default properties will be fetched.",
          "uniqueItems": true,
          "propertyOrder": 60
        },
        "meeting_properties": {
          "type": "string",
          "title": "Meetings - Additional Properties",
          "format": "textarea",
          "default": "hubspot_owner_id, hs_user_ids_of_all_owners, hs_meeting_start_time,hs_meeting_end_time, hs_body_preview_is_truncated, hs_created_by, hs_created_by_user_id, hs_engagement_source, hs_createdate, hs_lastmodifieddate, hs_object_id, hs_timestamp",
          "options": {
            "input_height": "100px",
            "dependencies": {
              "object_properties": "custom",
              "meeting_hidden": "true"
            }
          },
          "description": "Comma separated list of meeting properties. The values must match valid company properties, otherwise an empty value is returned. If left empty, default properties will be fetched.",
          "uniqueItems": true,
          "propertyOrder": 70
        },
        "email_event_types": {
          "type": "array",
          "title": "Email Event Types",
          "format": "checkbox",
          "uniqueItems": true,
          "description": "Select which event types you want to fetch data for",
          "propertyOrder": 80,
          "options": {
            "dependencies": {
              "email_event_hidden": "true"
            }
          },
          "items": {
            "type": "string",
            "enum": [
              "DEFERRED",
              "CLICK",
              "DROPPED",
              "DELIVERED",
              "PROCESSED",
              "OPEN",
              "BOUNCE",
              "SENT"
            ],
            "options": {
              "enum_titles": [
                "Deferred",
                "Click",
                "Dropped",
                "Delivered",
                "Processed",
                "Open",
                "Bounce",
                "Sent"
              ]
            }
          },
          "default": [
            "DEFERRED",
            "CLICK",
            "DROPPED",
            "DELIVERED",
            "PROCESSED",
            "OPEN",
            "BOUNCE",
            "SENT"
          ]
        },
        "campaign_hidden": {
          "type": "string",
          "watch": {
            "campaign_hide": "rootschema.endpoints.campaign"
          },
          "options": {
            "hidden": true
          },
          "template": "{{campaign_hide}}"
        },
        "contact_hidden": {
          "type": "string",
          "watch": {
            "contact_hide": "rootschema.endpoints.contact"
          },
          "options": {
            "hidden": true
          },
          "template": "{{contact_hide}}"
        },
        "company_hidden": {
          "type": "string",
          "watch": {
            "company_hide": "rootschema.endpoints.company"
          },
          "options": {
            "hidden": true
          },
          "template": "{{company_hide}}"
        },
        "deal_hidden": {
          "type": "string",
          "watch": {
            "deal_hide": "rootschema.endpoints.deal"
          },
          "options": {
            "hidden": true
          },
          "template": "{{deal_hide}}"
        },
        "deal_line_item_hidden": {
          "type": "string",
          "watch": {
            "deal_line_item_hide": "rootschema.endpoints.deal_line_item"
          },
          "options": {
            "hidden": true
          },
          "template": "{{deal_line_item_hide}}"
        },
        "quote_hidden": {
          "type": "string",
          "watch": {
            "quote_hide": "rootschema.endpoints.quote"
          },
          "options": {
            "hidden": true
          },
          "template": "{{quote_hide}}"
        },
        "product_hidden": {
          "type": "string",
          "watch": {
            "product_hide": "rootschema.endpoints.product"
          },
          "options": {
            "hidden": true
          },
          "template": "{{product_hide}}"
        },
        "owner_hidden": {
          "type": "string",
          "watch": {
            "owner_hide": "rootschema.endpoints.owner"
          },
          "options": {
            "hidden": true
          },
          "template": "{{owner_hide}}"
        },
        "ticket_hidden": {
          "type": "string",
          "watch": {
            "ticket_hide": "rootschema.endpoints.ticket"
          },
          "options": {
            "hidden": true
          },
          "template": "{{ticket_hide}}"
        },
        "contact_list_hidden": {
          "type": "string",
          "watch": {
            "contact_list_hide": "rootschema.endpoints.contact_list"
          },
          "options": {
            "hidden": true
          },
          "template": "{{contact_list_hide}}"
        },
        "email_event_hidden": {
          "type": "string",
          "watch": {
            "email_event_hide": "rootschema.endpoints.email_event"
          },
          "options": {
            "hidden": true
          },
          "template": "{{email_event_hide}}"
        },
        "form_hidden": {
          "type": "string",
          "watch": {
            "form_hide": "rootschema.endpoints.form"
          },
          "options": {
            "hidden": true
          },
          "template": "{{form_hide}}"
        },
        "pipeline_hidden": {
          "type": "string",
          "watch": {
            "pipeline_hide": "rootschema.endpoints.pipeline"
          },
          "options": {
            "hidden": true
          },
          "template": "{{pipeline_hide}}"
        },
        "note_hidden": {
          "type": "string",
          "watch": {
            "note_hide": "rootschema.endpoints.note"
          },
          "options": {
            "hidden": true
          },
          "template": "{{note_hide}}"
        },
        "call_hidden": {
          "type": "string",
          "watch": {
            "call_hide": "rootschema.endpoints.call"
          },
          "options": {
            "hidden": true
          },
          "template": "{{call_hide}}"
        },
        "task_hidden": {
          "type": "string",
          "watch": {
            "task_hide": "rootschema.endpoints.task"
          },
          "options": {
            "hidden": true
          },
          "template": "{{task_hide}}"
        },
        "meeting_hidden": {
          "type": "string",
          "watch": {
            "meeting_hide": "rootschema.endpoints.meeting"
          },
          "options": {
            "hidden": true
          },
          "template": "{{meeting_hide}}"
        },
        "email_hidden": {
          "type": "string",
          "watch": {
            "email_hide": "rootschema.endpoints.email"
          },
          "options": {
            "hidden": true
          },
          "template": "{{email_hide}}"
        },
        "email_statistic_hidden": {
          "type": "string",
          "watch": {
            "email_statistic_hide": "rootschema.endpoints.email_statistic"
          },
          "options": {
            "hidden": true
          },
          "template": "{{email_statistic_hide}}"
        }
      }
    },
    "associations": {
      "propertyOrder": 30,
      "type": "array",
      "format": "table",
      "title": "Object Associations",
      "uniqueItems": true,
      "items": {
        "type": "object",
        "title": "Object Association",
        "properties": {
          "from_object": {
            "type": "string",
            "title": "From Object",
            "required": true,
            "enum": [
              "campaign",
              "contact",
              "company",
              "deal",
              "quote",
              "product",
              "owner",
              "ticket",
              "form",
              "pipeline",
              "note",
              "call",
              "task",
              "meeting",
              "email"
            ],
            "default": "contact"
          },
          "to_object": {
            "type": "string",
            "title": "To Object",
            "required": true,
            "enum": [
              "campaign",
              "contact",
              "company",
              "deal",
              "quote",
              "product",
              "owner",
              "ticket",
              "form",
              "pipeline",
              "note",
              "call",
              "task",
              "meeting",
              "email"
            ],
            "default": "meeting"
          }
        }
      }
    },
    "fetch_settings": {
      "title": "Fetch Settings",
      "type": "object",
      "propertyOrder": 40,
      "properties": {
        "fetch_mode": {
          "type": "string",
          "required": true,
          "enum": [
            "full_fetch",
            "incremental_fetch"
          ],
          "options": {
            "enum_titles": [
              "Full Fetch",
              "Incremental Fetch"
            ]
          },
          "default": "full_fetch",
          "format": "checkbox",
          "title": "Fetch Mode",
          "description": "If Full fetch is used, all data will be fetched Hubspot every run. If incremental fetch is used, data will be fetched incrementally based on a specified relative or exact date",
          "propertyOrder": 20
        },
        "date_from": {
          "type": "string",
          "title": "Fetch From Date",
          "options": {
            "dependencies": {
              "fetch_mode": [
                "incremental_fetch"
              ]
            }
          },
          "default" : "yesterday",
          "description": "Date in YYYY-MM-DD format or relative date i.e. 5 days ago, 1 month ago, yesterday, etc. If left empty, all records are downloaded. You can also set this as `last run`, which will fetch data from the last run of the component; if no previous successful run exists, all data up to specified Date To will be downloaded.",
          "propertyOrder": 30
        },
        "archived": {
          "type": "boolean",
          "title": "Archived",
          "options": {
            "dependencies": {
              "fetch_mode": [
                "full_fetch"
              ]
            }
          },
          "propertyOrder": 70,
          "format": "checkbox",
          "description": "If checked archived objects will be fetched. Only possible in Full fetching mode"
        }
      }
    },
    "destination_settings": {
      "title": "Destination",
      "type": "object",
      "propertyOrder": 50,
      "properties": {
        "load_mode": {
          "type": "string",
          "required": true,
          "enum": [
            "full_load",
            "incremental_load"
          ],
          "options": {
            "enum_titles": [
              "Full Load",
              "Incremental Load"
            ]
          },
          "default": "incremental_load",
          "format": "checkbox",
          "title": "Load Mode",
          "description": "If Full load is used, the destination table will be overwritten every run. If incremental load is used, data will be upserted into the destination table. Tables with a primary key will have rows updated, tables without a primary key will have rows appended.",
          "propertyOrder": 20
        }
      }
    }
  }
}